@using static MyApp.Shared.NavMenuIsolation
<MudLayout>
   <MudAppBar Elevation="1" Dense="@dense">
      <MudIconButton Icon="@LeftIcon" Color="Color.Inherit" Edge="Edge.Start" 
      OnClick="@ToggleDrawer" />
      <MudSpacer />
      <MudText Typo="Typo.h5">@Title</MudText>
      <MudSpacer />
      <MudIconButton Icon="@RightIcon" Color="Color.Inherit" />
   </MudAppBar>
   <MudDrawer Style="@DrawerStyle" Class="d-flex flex-column flex-grow-1 gap-4" @bind-Open="@open" Width="343px" ClipMode="clipMode" Elevation="1" Variant="@DrawerVariant.Responsive">
      <MudContainer Class="mt-5 mb-3">
         <MudPaper Style="@InheritColor" Elevation="0" class="d-flex flex-grow-1 gap-4">
            <MudPaper Width="64px" Elevation="0" Style="@InheritColor"/>
            <MudPaper Class="flex-grow-1 text-center" Style="@InheritColor" Width="64px" Elevation="0">
               <MudText Typo="Typo.h6">My App</MudText>
            </MudPaper>
            <MudPaper Class="text-end" Style="@InheritColor" Width="64px" Elevation="0">
               <MudAvatar Square="true" Style="@CloseIconStyle" @onclick="@ToggleDrawer">
                  <MudIcon Icon="@Icons.Filled.Close"  />
               </MudAvatar>
            </MudPaper>
         </MudPaper>
      </MudContainer>
      <MudNavMenu Class="flex-grow-1" >
         @* Search box Start *@
         <MudContainer Class="mt-2">
            <MudTextField Style="@SearchBox"  @bind-Value="Search" Placeholder="Search" Variant="Variant.Outlined" 
               Adornment="Adornment.Start" AdornmentIcon="@Icons.Filled.Search" AdornmentColor="Color.Inherit" />
         </MudContainer>
         @* Search box End *@
         <MudList Clickable="true">
            <MudContainer  Class="mt-3">
               <MudPaper Class="d-flex flex-grow-1 gap-4" Style="@PaperStyle">
                  <MudNavLink Match="NavLinkMatch.All" Style="@ProfileNavLink"  Href="####">
                     <MudAvatar Style="@ProfileAvatar" Size="Size.Small" Image="images/navpropic.png" />
                     <MudText Style="@ProfileText" > Profile</MudText>
                  </MudNavLink>
               </MudPaper>
            </MudContainer>
            @* Item 1 *@
            <MudContainer  Class="mt-3">
               <MudPaper Class="d-flex flex-grow-1 gap-4" Style="@PaperStyle">
                  <MudNavLink Match="NavLinkMatch.All"  Href="#####" Icon="@Icons.Filled.Assignment">
                     My Plans
                     <MudAvatar Class="mt-2 mr-3" Size="Size.Small" Style="@LinkAvatarStyle" Variant="Variant.Outlined" Color="Color.Warning">
                        <MudText Typo="Typo.button" Style="@PaperRightIconStyle">10</MudText>
                     </MudAvatar>
                  </MudNavLink>
               </MudPaper>
            </MudContainer>
            @* Item 2 *@
            <MudContainer  Class="mt-3">
               <MudPaper Class="d-flex flex-grow-1 gap-4" Style="@PaperStyle">
                  <MudNavLink Match="NavLinkMatch.All"  Href="######" Icon="@Icons.Filled.Radar">
                     My Goals
                     <MudAvatar Class="mt-2 mr-3" Size="Size.Small" Style="@LinkAvatarStyle" Variant="Variant.Outlined" Color="Color.Warning">
                        <MudText Typo="Typo.button" Style="@PaperRightIconStyle">2</MudText>
                     </MudAvatar>
                  </MudNavLink>
               </MudPaper>
            </MudContainer>
            @* Item 3 *@
            <MudContainer  Class="mt-3">
               <MudPaper Class="d-flex flex-grow-1 gap-4" Style="@PaperStyle">
                  <MudNavLink  Match="NavLinkMatch.All" Href="#######" Icon="@Icons.Filled.AssignmentTurnedIn">
                     My Todos
                     <MudAvatar Class="mt-2 mr-3" Size="Size.Small" Style="@LinkAvatarStyle" Variant="Variant.Outlined" Color="Color.Warning">
                        <MudText Typo="Typo.button" Style="@PaperRightIconStyle">7</MudText>
                     </MudAvatar>
                  </MudNavLink>
               </MudPaper>
            </MudContainer>
            @* Item 4 *@
            <MudContainer  Class="mt-3">
               <MudPaper Class="d-flex flex-grow-1 gap-4" Style="@PaperStyle">
                  <MudNavLink  Match="NavLinkMatch.All" Href="########" Icon="@Icons.Filled.Movie">
                     My Series
                     <MudAvatar Class="mt-2 mr-3" Size="Size.Small" Style="@LinkAvatarStyle" Variant="Variant.Outlined" Color="Color.Warning">
                        <MudText Typo="Typo.button" Style="@PaperRightIconStyle">21</MudText>
                     </MudAvatar>
                  </MudNavLink>
               </MudPaper>
            </MudContainer>
            @* Item 5 *@
            <MudContainer  Class="mt-3">
               <MudPaper Class="d-flex flex-grow-1 gap-4" Style="@PaperStyle">
                  <MudNavLink Match="NavLinkMatch.All" Href="#########" Icon="@Icons.Filled.Star">
                     My favourites
                     <MudAvatar Class="mt-2 mr-3" Size="Size.Small" Style="@LinkAvatarStyle" Variant="Variant.Outlined" Color="Color.Warning">
                        <MudText Typo="Typo.button" Style="@PaperRightIconStyle">25</MudText>
                     </MudAvatar>
                  </MudNavLink>
               </MudPaper>
            </MudContainer>
            @* List 1 *@
            <MudContainer  Class="mt-3">
               <MudPaper Style="@PaperStyle">
                  <MudNavGroup Title="List One"  Icon="@Icons.Filled.KeyboardArrowDown" Expanded="false">
                     <MudNavGroup Title="List Three" Icon="@Icons.Filled.KeyboardArrowDown" Expanded="false">
                        <MudNavLink Match="NavLinkMatch.All" Href="##########" Icon="@Icons.Filled.NoiseControlOff">Item one</MudNavLink>
                        <MudNavLink Match="NavLinkMatch.All" Href="###########" Icon="@Icons.Filled.NoiseControlOff">Item two</MudNavLink>
                     </MudNavGroup>
                  </MudNavGroup>
               </MudPaper>
            </MudContainer>
            <MudContainer  Class="mt-3">
               <MudPaper Style="@PaperStyle">
                  @* List 2 *@
                  <MudNavGroup Title="List Two"  Icon="@Icons.Filled.KeyboardArrowDown" Expanded="false">
                     <MudNavGroup Title="List Three" Icon="@Icons.Filled.KeyboardArrowDown" Expanded="false">
                        <MudNavLink Match="NavLinkMatch.All" Href="############" Icon="@Icons.Filled.NoiseControlOff">Item one</MudNavLink>
                        <MudNavLink Match="NavLinkMatch.All" Href="#############" Icon="@Icons.Filled.NoiseControlOff">Item two</MudNavLink>
                     </MudNavGroup>
                  </MudNavGroup>
               </MudPaper>
            </MudContainer>
         </MudList>
      </MudNavMenu>
      <MudContainer Class="mb-4 mt-4" Style="@ButtonStyle">
         <MudButton Variant="Variant.Filled" Color="Color.Warning" FullWidth="true">Logout &nbsp;<i class="fa-solid fa-right-from-bracket"></i></MudButton>
      </MudContainer>
   </MudDrawer>
   <MudMainContent Class="pt-16 px-16">
   </MudMainContent>
</MudLayout>
@code{
[Parameter]
public string  Title {get;set;}="My Profile"; //Will Be Dynamic
[Parameter]
public string  LeftIcon {get;set;}=Icons.Filled.Menu; //Will Be Dynamic
[Parameter]
public string  RightIcon {get;set;}=Icons.Filled.Settings; //Will Be Dynamic
bool open = true;
bool dense = false;
DrawerClipMode clipMode = DrawerClipMode.Never;
public int spacing { get; set; } = 10;
public string Search { get; set;}="";
void ToggleDrawer()
{
open = !open;
}
}